{"version":3,"sources":["webpack/bootstrap 40e07a7c9463453c3440","./js/main.js","./js/snake-view.js","./js/snake.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACLD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,eAAe;AAChC,oBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAiB,sCAAsC;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;AClFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 40e07a7c9463453c3440\n **/","var View = require(\"./snake-view.js\");\n\n$(function () {\n  var rootElement = $(\".snake\");\n  new View(rootElement);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Board = require(\"./snake.js\");\n\nvar View = function($el) {\n  this.$el = $el;\n  this.board = new Board(50);\n  this.setupBoard(this.board.boardSize);\n  this.renderBoard();\n\n  $(window).on(\"keydown\", this.handleKeyEvent.bind(this));\n\n  this.gameFrames = setInterval(this.step.bind(this), 100);\n}\n\nView.KEYS = {\n  37: \"W\",\n  38: \"N\",\n  39: \"E\",\n  40: \"S\",\n}\n\nView.prototype.setupBoard = function(boardSize) {\n  var $ul = $(\"<ul>\");\n\n  for (var i = 0; i < boardSize; i++) {\n    for (var j = 0; j < boardSize; j++) {\n      var $li = $(\"<li>\");\n      $li.attr(\"pos\", [i, j]);\n      $ul.append($li);\n    }\n  }\n  this.$el.append($ul);\n}\n\nView.prototype.renderBoard = function() {\n  var $allSegments = $(\".segment0, .segment1\");\n  $allSegments.removeAttr(\"class\");\n\n  var $allApples = $(\".apple\");\n  $allApples.removeClass(\"apple\");\n  $allApples.text(\"\");\n\n  var segmentColor = 0;\n\n  for (var i = 0; i < this.board.snake.segments.length; i++) {\n    var $segment = $(\"[pos='\" + this.board.snake.segments[i] + \"']\");\n    $segment.addClass(\"segment\" + (segmentColor % 2));\n    segmentColor += 1;\n  }\n\n  var $apple = $(\"[pos='\" + this.board.apple + \"']\");\n  $apple.addClass(\"apple\");\n  // $apple.text(\"ï£¿\");\n};\n\nView.prototype.step = function() {\n  this.board.snake.move();\n  this.renderBoard();\n  if (this.board.snake.isOffBoard() || this.board.snake.collideSelf()) {\n    this.gameover();\n  }\n};\n\nView.prototype.gameover = function() {\n  $(window).off(\"keydown\");\n  clearInterval(this.gameFrames);\n\n  var $boardCenter = $(\"[pos='\" + [this.board.center[0] - 1, this.board.center[1] - 6] + \"']\");\n  $boardCenter.addClass(\"gameover\");\n\n  var someText = \"GAMEOVER!\";\n  $boardCenter.append(document.createTextNode(someText));\n};\n\nView.prototype.handleKeyEvent = function(event) {\n  if (View.KEYS[event.keyCode]) {\n    if (this.board.snake.validDirection(View.KEYS[event.keyCode])) {\n      this.board.snake.direction = View.KEYS[event.keyCode];\n    }\n  } else {\n  };\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake-view.js\n ** module id = 1\n ** module chunks = 0\n **/","function Snake(startPos, board) {\n  this.board = board;\n  this.direction = \"N\";\n  this.segments = [startPos];\n}\n\nSnake.MOVES = {\n  \"N\": [-1, 0],\n  \"E\": [0, 1],\n  \"S\": [1, 0],\n  \"W\": [0, -1]\n};\n\nSnake.prototype.move = function() {\n  this.segments.unshift([\n    this.segments[0][0] + Snake.MOVES[this.direction][0],\n    this.segments[0][1] + Snake.MOVES[this.direction][1]\n  ]);\n  this.segments.pop();\n\n  if (this.checkEatenApple()) {\n    this.grow();\n  }\n};\n\nSnake.prototype.validDirection = function(newDirection) {\n  if (this.direction === \"N\" && newDirection === \"S\") {\n    return false;\n  } else if (this.direction === \"S\" && newDirection === \"N\") {\n    return false;\n  } else if (this.direction === \"W\" && newDirection === \"E\") {\n    return false;\n  } else if (this.direction === \"E\" && newDirection === \"W\") {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nSnake.prototype.checkEatenApple = function() {\n  if (this.segments[0][0] === this.board.apple[0] && this.segments[0][1] === this.board.apple[1]) {\n    this.board.apple = [];\n    this.board.createApple();\n    return true;\n  } else {\n    return false;\n  };\n};\n\nSnake.prototype.isOffBoard = function() {\n  if (this.segments[0][0] < 0 || this.segments[0][1] < 0 || this.segments[0][0] >= this.board.boardSize || this.segments[0][1] >= this.board.boardSize) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nSnake.prototype.collideSelf = function() {\n  var snakeBody = this.segments.slice(1);\n  var snakeHead = this.segments[0]\n  for (var i = 0; i < snakeBody.length; i++) {\n    if (snakeHead[0] === snakeBody[i][0] && snakeHead[1] === snakeBody[i][1]) {\n      return true;\n    }\n  }\n  return false;\n};\n\nSnake.prototype.grow = function() {\n  this.segments.unshift([\n    this.segments[0][0] + Snake.MOVES[this.direction][0],\n    this.segments[0][1] + Snake.MOVES[this.direction][1]\n  ]);\n};\n\nfunction Board(boardSize) {\n  this.center = [Math.floor(boardSize / 2), Math.floor(boardSize / 2)];\n  this.snake = new Snake(this.center, this);\n  this.boardSize = boardSize;\n  this.apple = [];\n  this.createApple();\n}\n\nBoard.prototype.createApple = function() {\n  var applePos = [Math.floor(Math.random() * this.boardSize), Math.floor(Math.random() * this.boardSize)];\n  while (this.snake.segments.indexOf(applePos) !== -1) {\n    applePos = [Math.floor(Math.random() * this.boardSize), Math.floor(Math.random() * this.boardSize)];\n  }\n  this.apple = applePos;\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}